<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<title>Introducción a R</title>
<meta name="author" content="(Miguel Angel Escalante Serrato)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/theme/moon.css" id="theme"/>

<link rel="stylesheet" href="./presentacion.css"/>

<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'https://cdn.jsdelivr.net/npm/reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
<meta name="description" content="Matemáticas Computacionales">
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Introducción a R</h1><h2 class="author">Miguel Angel Escalante Serrato</h2><h2 class="date">8-Oct-2020</h2><p class="date">Created: 2020-10-08 jue 18:11</p>
</section>
<section>
<section id="slide-orga3e15ae">
<h2 id="orga3e15ae">R</h2>

<div class="figure">
<p><img src="./img/Rlogo.png" alt="Rlogo.png" height="30%," width="30%" />
</p>
</div>
</section>
<section id="slide-org2a851a3">
<h4 id="org2a851a3">¿Qué es  R?</h4>
<p>
R es un lenguaje y un ambiente para cómputo estadístico, es un proyecto GNU similar al lenguaje y ambiente S, desarrollado por los laboratorios Bell. 
</p>
</section>
<section id="slide-org29a30dc">
<h4 id="org29a30dc">Huh ¿?</h4>
<p>
R es un lenguaje que nos ayuda a leer, transformar, graficar, modelar y entender datos.
</p>
</section>
<section id="slide-org9fe7963">
<h4 id="org9fe7963">¿Por qué R?</h4>
<ul>
<li>R  está enfocado al manejo modelado y graficación de información.</li>
<li>Miles de paquetes, con los últimos desarrollos en estadística.</li>
<li>Manejo de series de tiempo, bases de datos, datos geoespaciales.</li>
<li>Conecta muy bien.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org70e8767">
<h2 id="org70e8767">Bases del lenguaje.</h2>
<div class="outline-text-2" id="text-org70e8767">
</div>
</section>
<section id="slide-org89ab7e1">
<h3 id="org89ab7e1">Rstudio</h3>
<div class="outline-text-3" id="text-org89ab7e1">
</div>
</section>
<section id="slide-org5ca4ab7">
<h4 id="org5ca4ab7">Variables</h4>
<p>
Los objetos y funciones se almacenan con el operador <code>&lt;-</code>
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>x <span style="color: #8bc34a;">&lt;-</span> 2
y <span style="color: #8bc34a;">&lt;-</span> 3
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>
</code></pre>
</div>

</section>
<section id="slide-org47807a5">
<h4 id="org47807a5">Variables</h4>
<p>
Podemos ver lo que tienen las variables al teclear el nombre: 
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>x
y
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] 2
[1] 3
</code></pre>
</div>

</section>
<section id="slide-org96fd240">
<h4 id="org96fd240">Vectores</h4>
<p>
Un vector es un conjunto de cosas, las cosas contenidas tienen que ser del mismo tipo, e.g. todos números, todos caracteres. 
</p>
<div class="org-src-container">

<pre  class="src src-R"><code trim>v <span style="color: #8bc34a;">&lt;-</span> c(1, 2, 3, 42)
v1 <span style="color: #8bc34a;">&lt;-</span> c(v,<span style="color: #9ccc65;">'a'</span>)
v
v1
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1]  1  2  3 42
[1] "1"  "2"  "3"  "42" "a"
</code></pre>
</div>

</section>
<section id="slide-org85ec7a9">
<h4 id="org85ec7a9">Vectores</h4>
<p>
Se pueden generar de distintas maneras: 
</p>
<div class="org-src-container">

<pre  class="src src-R"><code trim>v <span style="color: #8bc34a;">&lt;-</span> 1:10
v <span style="color: #8bc34a;">&lt;-</span> seq(1,10)
v <span style="color: #8bc34a;">&lt;-</span> seq(1,20,by=0.2)
v
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim> [1]  1.0  1.2  1.4  1.6  1.8  2.0  2.2  2.4  2.6  2.8  3.0  3.2  3.4  3.6  3.8
[16]  4.0  4.2  4.4  4.6  4.8  5.0  5.2  5.4  5.6  5.8  6.0  6.2  6.4  6.6  6.8
[31]  7.0  7.2  7.4  7.6  7.8  8.0  8.2  8.4  8.6  8.8  9.0  9.2  9.4  9.6  9.8
[46] 10.0 10.2 10.4 10.6 10.8 11.0 11.2 11.4 11.6 11.8 12.0 12.2 12.4 12.6 12.8
[61] 13.0 13.2 13.4 13.6 13.8 14.0 14.2 14.4 14.6 14.8 15.0 15.2 15.4 15.6 15.8
[76] 16.0 16.2 16.4 16.6 16.8 17.0 17.2 17.4 17.6 17.8 18.0 18.2 18.4 18.6 18.8
[91] 19.0 19.2 19.4 19.6 19.8 20.0
</code></pre>
</div>

</section>
<section id="slide-org49be5fe">
<h4 id="org49be5fe">Vectores</h4>
<p>
También se pueden crear vectiores repitiendo algún otro vecrtor :). 
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>v <span style="color: #8bc34a;">&lt;-</span> rep(1:20,5)
v
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20  1  2  3  4  5
[26]  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20  1  2  3  4  5  6  7  8  9 10
[51] 11 12 13 14 15 16 17 18 19 20  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15
[76] 16 17 18 19 20  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
</code></pre>
</div>

</section>
<section id="slide-org3b37e27">
<h4 id="org3b37e27">Vectores</h4>
<p>
Podemos acceder a determinados valores del vector por su posición. (Ojo, los índices en R empiezan en 1.)
</p>
<div class="org-src-container">

<pre  class="src src-R"><code trim>v[3]
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] 3
</code></pre>
</div>

</section>
<section id="slide-org82bdb12">
<h4 id="org82bdb12">Vectores</h4>
<p>
Se pueden hacer operaciones sobre vectores:
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>(v*2+42)^3
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim> [1]  85184  97336 110592 125000 140608 157464 175616 195112 216000 238328
[11] 262144 287496 314432 343000 373248 405224 438976 474552 512000 551368
[21]  85184  97336 110592 125000 140608 157464 175616 195112 216000 238328
[31] 262144 287496 314432 343000 373248 405224 438976 474552 512000 551368
[41]  85184  97336 110592 125000 140608 157464 175616 195112 216000 238328
[51] 262144 287496 314432 343000 373248 405224 438976 474552 512000 551368
[61]  85184  97336 110592 125000 140608 157464 175616 195112 216000 238328
[71] 262144 287496 314432 343000 373248 405224 438976 474552 512000 551368
[81]  85184  97336 110592 125000 140608 157464 175616 195112 216000 238328
[91] 262144 287496 314432 343000 373248 405224 438976 474552 512000 551368
</code></pre>
</div>

<p>
A estas se les llama operaciones <i>vectorizadas</i>
</p>
</section>
<section id="slide-org9dbb9aa">
<h4 id="org9dbb9aa">Vectores</h4>
<p>
Podemos esta operación vectorizada nos dice los elementos positivos del vector
</p>
<div class="org-src-container">

<pre  class="src src-R"><code trim>x <span style="color: #8bc34a;">&lt;-</span> c(1, -3, -2, 4, -10, 2, 3, 90)
x &gt; 0
</code></pre>
</div>
<div class="org-src-container">

<pre  class="src src-org"><code trim>[1]  TRUE FALSE FALSE  TRUE FALSE  TRUE  TRUE  TRUE
</code></pre>
</div>
</section>
<section id="slide-org73dcf46">
<h4 id="org73dcf46">Vectores</h4>
<p>
Mejor aún, podemos obtener los vectores!
</p>
<div class="org-src-container">

<pre  class="src src-R"><code trim>x[x &gt; 0]
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1]  1  4  2  3 90
</code></pre>
</div>

</section>
<section id="slide-orgea7de41">
<h4 id="orgea7de41">Factores</h4>
<p>
Cuando uno quiere analizar datos, regularmente necesita variables que funcionan como etiquetas. Estas etiquetas pueden ser contadas, pero no sumadas. A este tipo de variables se les conoce como variables <i>categóricas</i> y en <code>R</code>  se llaman <b>factores</b>.
</p>

</section>
<section id="slide-org95f0d67">
<h4 id="org95f0d67">Factores</h4>
<p>
Es posible crearlas a partir de un <code>vector</code>
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>f <span style="color: #8bc34a;">&lt;-</span> c(<span style="color: #9ccc65;">"M"</span>, <span style="color: #9ccc65;">"F"</span>, <span style="color: #9ccc65;">"M"</span>, <span style="color: #9ccc65;">"M"</span>, <span style="color: #9ccc65;">"F"</span>, <span style="color: #9ccc65;">"M"</span>)
f <span style="color: #8bc34a;">&lt;-</span> factor(f)
f
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] M F M M F M
Levels: F M
</code></pre>
</div>

<p>
Y pueden tener una descripción larga (<code>label</code>)
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>f <span style="color: #8bc34a;">&lt;-</span> factor(c(<span style="color: #9ccc65;">"M"</span>, <span style="color: #9ccc65;">"F"</span>, <span style="color: #9ccc65;">"M"</span>, <span style="color: #9ccc65;">"M"</span>, <span style="color: #9ccc65;">"F"</span>, <span style="color: #9ccc65;">"M"</span>, <span style="color: #9ccc65;">"F"</span>), 
           levels=c(<span style="color: #9ccc65;">"M"</span>, <span style="color: #9ccc65;">"F"</span>), 
           labels=c(<span style="color: #9ccc65;">"Hombre"</span>, <span style="color: #9ccc65;">"Mujer"</span>))
f
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] Hombre Mujer  Hombre Hombre Mujer  Hombre Mujer 
Levels: Hombre Mujer
</code></pre>
</div>

</section>
<section id="slide-org364effb">
<h4 id="org364effb">Factores</h4>
<p>
Hagámos una copia de <code>f</code>
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>g <span style="color: #8bc34a;">&lt;-</span> f
g
f
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] Hombre Mujer  Hombre Hombre Mujer  Hombre Mujer 
Levels: Hombre Mujer
[1] Hombre Mujer  Hombre Hombre Mujer  Hombre Mujer 
Levels: Hombre Mujer
</code></pre>
</div>

</section>
<section id="slide-org24428a8">
<h4 id="org24428a8">Factores</h4>
<p>
Los <code>levels</code> se pueden extraer con la siguiente función:
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>levels(g)
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] "Hombre" "Mujer"
</code></pre>
</div>

</section>
<section id="slide-org72687f7">
<h4 id="org72687f7">Factores</h4>
<p>
¿Qué pasa si quiero agregar un nuevo elemento al final del factor?
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>g[length(g)+1] <span style="color: #8bc34a;">&lt;-</span> <span style="color: #9ccc65;">"NR"</span>
g
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>Warning message:
In `[&lt;-.factor`(`*tmp*`, length(g) + 1, value = "NR") :
  invalid factor level, NA generated
[1] Hombre Mujer  Hombre Hombre Mujer  Hombre Mujer  &lt;

Levels: Hombre Mujer
</code></pre>
</div>

<p>
Mmmm, como el <i>nivel</i> <code>NR</code> no estaba definido, lo agrega como un valor inexistente (<code>NA</code>).
</p>

</section>
<section id="slide-org18dc87f">
<h4 id="org18dc87f">Factores</h4>
<div class="org-src-container">

<pre  class="src src-R"><code trim>g <span style="color: #8bc34a;">&lt;-</span> factor(c(<span style="color: #9ccc65;">"a"</span>, <span style="color: #9ccc65;">"b"</span>, <span style="color: #9ccc65;">"a"</span>, <span style="color: #9ccc65;">"a"</span>, <span style="color: #9ccc65;">"b"</span>, <span style="color: #9ccc65;">"b"</span>, <span style="color: #9ccc65;">"b"</span>), 
            levels=c(<span style="color: #9ccc65;">"a"</span>, <span style="color: #9ccc65;">"b"</span>, <span style="color: #9ccc65;">"c"</span>))
g
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] a b a a b b b
Levels: a b c
</code></pre>
</div>


<div class="org-src-container">

<pre  class="src src-R"><code trim>g[length(g)+1] <span style="color: #8bc34a;">&lt;-</span> <span style="color: #9ccc65;">"c"</span>
g
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] a b a a b b b c
Levels: a b c
</code></pre>
</div>

</section>
<section id="slide-org8b27ae2">
<h4 id="org8b27ae2">Factores</h4>
<p>
Una tabla con los conteos por nivel se puede obtener fácilmente
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>table(g)
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>g
a b c 
3 4 1
</code></pre>
</div>

</section>
<section id="slide-org70264c1">
<h4 id="org70264c1">Factores</h4>
<div class="org-src-container">

<pre  class="src src-R"><code trim>a <span style="color: #8bc34a;">&lt;-</span> factor(c(<span style="color: #9ccc65;">"estudiante"</span>, <span style="color: #9ccc65;">"profesor"</span>, <span style="color: #9ccc65;">"estudiante"</span>, 
             <span style="color: #9ccc65;">"profesor"</span>, <span style="color: #9ccc65;">"estudiante"</span>, <span style="color: #9ccc65;">"estudiante"</span>, 
             <span style="color: #9ccc65;">"estudiante"</span>))
a
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] estudiante profesor   estudiante profesor   estudiante estudiante estudiante
Levels: estudiante profesor
</code></pre>
</div>

<p>
Es posible mezclar los dos factores en una tabla 
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>t <span style="color: #8bc34a;">&lt;-</span> table(a,f)
t
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>            f
a            Hombre Mujer
  estudiante      3     2
  profesor        1     1
</code></pre>
</div>

<p>
Nota como se le está asignando el género por renglón.
</p>

</section>
<section id="slide-org1dda68e">
<h4 id="org1dda68e">Factores</h4>
<p>
Y una tabla de <i>proporciones</i> nos da (obviamente) la proporción
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>prop.table(t, 2) 
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>            f
a               Hombre     Mujer
  estudiante 0.7500000 0.6666667
  profesor   0.2500000 0.3333333
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org2360f07">
<h2 id="org2360f07">Data frames</h2>
<div class="outline-text-2" id="text-org2360f07">
</div>
</section>
<section id="slide-org0088066">
<h4 id="org0088066">Data frames</h4>
<ul>
<li>Cuando se piensa en análisis de datos, usualmente se tiene en mente una estructura de observaciones y características de las mismas, en una especie de "tabla", la característica común es que son objetos rectangulares (de dos dimensiones).</li>

<li><code>R</code> proveé una abstración para los datos en formato rectangular llamado <code>data.frame</code></li>

</ul>
</section>
<section id="slide-org3e292ad">
<h4 id="org3e292ad">Data Frames</h4>
<div class="org-src-container">

<pre  class="src src-R"><code trim>df <span style="color: #8bc34a;">&lt;-</span> data.frame(
         var.1=c(<span style="color: #9ccc65;">'A'</span>, <span style="color: #9ccc65;">'B'</span>, <span style="color: #9ccc65;">'C'</span>, <span style="color: #9ccc65;">'A'</span>), 
         var.2=c(<span style="color: #9ccc65;">'h'</span>, <span style="color: #9ccc65;">'a'</span>, <span style="color: #9ccc65;">'u'</span>, <span style="color: #9ccc65;">'p'</span>), 
         var.3=c(1, 2, 3, 4.5))
df
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>  var.1 var.2 var.3
1     A     h   1.0
2     B     a   2.0
3     C     u   3.0
4     A     p   4.5
</code></pre>
</div>

</section>
<section id="slide-org306a2f2">
<h4 id="org306a2f2">Data frames</h4>
<p>
La extracción ahora debe de hacerse en dos dimensiones (renglones, columnas)
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>df[3,1]
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] C
Levels: A B C
</code></pre>
</div>

<p>
Extraer un renglón
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>df[3,]
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>  var.1 var.2 var.3
3     C     u     3
</code></pre>
</div>


</section>
<section id="slide-org7c0dd48">
<h4 id="org7c0dd48">Data frames</h4>
<p>
Extraer una columna
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>df[,3]
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] 1.0 2.0 3.0 4.5
</code></pre>
</div>

<p>
Se puede utilizar el nombre de la columna para extraer la columna completa
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>df$var.3
df[<span style="color: #9ccc65;">'var.3'</span>]
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] 1.0 2.0 3.0 4.5
  var.3
1   1.0
2   2.0
3   3.0
4   4.5
</code></pre>
</div>

</section>
<section id="slide-org546622b">
<h4 id="org546622b">Data frames</h4>
<p>
La extracción "mágica" se preserva también en los =data.frame=s
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>df[df$var.3 &gt; 2,]
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>  var.1 var.2 var.3
3     C     u   3.0
4     A     p   4.5
</code></pre>
</div>


<div class="org-src-container">

<pre  class="src src-R"><code trim>df[df$var.1 == <span style="color: #9ccc65;">"A"</span>, <span style="color: #9ccc65;">"var.3"</span>]
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] 1.0 4.5
</code></pre>
</div>

</section>
<section id="slide-orga3dec8a">
<h4 id="orga3dec8a">Data frames</h4>
<p>
Así como los vectores (y sus derivados) tenían longitud, los <code>data.frame</code> tiene <b><b>tamaño</b></b> y es bidimensional
</p>

<div class="org-src-container">

<pre  class="src src-R"><code trim>dim(df)
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] 4 3
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-R"><code trim>nrow(df)
ncol(df)
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] 4
[1] 3
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-R"><code trim>names(df)
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-org"><code trim>[1] "var.1" "var.2" "var.3"
</code></pre>
</div>
</section>
</section>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]
});
</script>
</body>
</html>
